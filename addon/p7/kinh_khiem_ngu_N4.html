<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng Đặc Biệt: Tôn Kính Ngữ & Khiêm Nhường Ngữ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Roboto', 'Noto Sans JP', sans-serif;
            background-color: #f3f4f6;
        }
        .jp-font {
            font-family: 'Noto Sans JP', sans-serif;
        }
        /* Custom scrollbar */
        .table-container::-webkit-scrollbar {
            height: 8px;
        }
        .table-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        .table-container::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .table-container::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Hiding/Masking Styles */
        .mask-cell {
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none; 
        }

        .mask-cell.is-hidden .content {
            filter: blur(8px);
            opacity: 0.3;
        }
        
        .mask-cell.is-hidden::after {
            content: 'Click để xem';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8rem;
            color: #6b7280;
            font-weight: 500;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 4px 8px;
            border-radius: 4px;
            white-space: nowrap;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .mask-cell:hover.is-hidden::after {
            background-color: rgba(255, 255, 255, 1);
            color: #374151;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header Section -->
    <header class="bg-gradient-to-r from-indigo-600 to-blue-500 text-white shadow-lg">
        <div class="container mx-auto px-4 py-8">
            <h1 class="text-3xl md:text-4xl font-bold text-center mb-2">
                <i class="fas fa-book-open mr-2"></i> Kính Ngữ Tiếng Nhật
            </h1>
            <p class="text-center text-blue-100 text-lg">Dạng Lịch Sự (V-masu)</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 -mt-6">
        
        <!-- Controls & Search -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="w-full md:w-1/2">
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                            <i class="fas fa-search text-gray-400"></i>
                        </span>
                        <input type="text" id="searchInput" 
                            class="w-full py-3 pl-10 pr-4 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"
                            placeholder="Tìm kiếm (VD: ikimasu, ăn, làm...)">
                    </div>
                </div>
                <div class="flex gap-4">
                     <button onclick="toggleAll(true)" class="bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg hover:bg-indigo-200 transition text-sm font-medium">
                        <i class="fas fa-eye mr-1"></i> Hiện tất cả
                    </button>
                    <button onclick="toggleAll(false)" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition text-sm font-medium">
                        <i class="fas fa-eye-slash mr-1"></i> Ẩn tất cả
                    </button>
                </div>
            </div>
        </div>

        <!-- Table Section -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
            <div class="table-container overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-gray-800 text-white text-sm uppercase tracking-wider">
                            <th class="p-4 font-semibold border-b border-gray-700 min-w-[150px] w-1/5">Lịch sự (Teineigo)</th>
                            <th class="p-4 font-semibold border-b border-gray-700 bg-red-900/40 min-w-[200px] w-1/4">
                                <i class="fas fa-arrow-up text-red-300 mr-1"></i> Tôn Kính Ngữ <br>
                                <span class="text-xs normal-case opacity-75">(Sonkeigo)</span>
                            </th>
                            <th class="p-4 font-semibold border-b border-gray-700 bg-blue-900/40 min-w-[200px] w-1/4">
                                <i class="fas fa-arrow-down text-blue-300 mr-1"></i> Khiêm Nhường Ngữ <br>
                                <span class="text-xs normal-case opacity-75">(Kenjougo)</span>
                            </th>
                            <th class="p-4 font-semibold border-b border-gray-700 min-w-[150px]">Ý Nghĩa (VN)</th>
                        </tr>
                    </thead>
                    <tbody id="verbTableBody" class="text-gray-700 divide-y divide-gray-200">
                        <!-- Content will be injected by JS -->
                    </tbody>
                </table>
            </div>
            
            <!-- Empty State -->
            <div id="emptyState" class="hidden p-8 text-center text-gray-500">
                <i class="fas fa-ghost text-4xl mb-3 text-gray-300"></i>
                <p>Không tìm thấy động từ phù hợp.</p>
            </div>
        </div>

        <!-- Note Section -->
        <div class="mt-8 grid md:grid-cols-2 gap-6">
             <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-500">
                <h3 class="font-bold text-red-700 mb-2"><i class="fas fa-crown mr-2"></i>Tôn Kính Ngữ (Sonkeigo)</h3>
                <p class="text-sm text-gray-700">Dùng cho <strong>người khác</strong> (Cấp trên, khách hàng...).</p>
            </div>
            <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                <h3 class="font-bold text-blue-700 mb-2"><i class="fas fa-user-check mr-2"></i>Khiêm Nhường Ngữ (Kenjougo)</h3>
                <p class="text-sm text-gray-700">Dùng cho <strong>bản thân</strong> hoặc người cùng nhóm.</p>
            </div>
        </div>

    </main>

    <footer class="bg-gray-800 text-gray-400 py-6 mt-12">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>&copy; 2024 Japanese Keigo Cheat Sheet.</p>
        </div>
    </footer>

    <script>
        // Database of Special Keigo Verbs - Updated to V-Masu forms
        const keigoData = [
            {
                meaning: "Đi",
                teineigo: "行きます<br><span class='text-sm text-gray-400'>ikimasu</span>",
                sonkeigo: "いらっしゃいます<br><span class='text-sm text-gray-500'>おいでになります</span>",
                kenjougo: "参ります（まいります）"
            },
            {
                meaning: "Đến",
                teineigo: "来ます<br><span class='text-sm text-gray-400'>kimasu</span>",
                sonkeigo: "いらっしゃいます<br><span class='text-sm text-gray-500'>おいでになります<br>お越しになります（おこしになります）</span>",
                kenjougo: "参ります（まいります）"
            },
            {
                meaning: "Ở / Có",
                teineigo: "います<br><span class='text-sm text-gray-400'>imasu</span>",
                sonkeigo: "いらっしゃいます<br><span class='text-sm text-gray-500'>おいでになります</span>",
                kenjougo: "おります"
            },
            {
                meaning: "Làm",
                teineigo: "します<br><span class='text-sm text-gray-400'>shimasu</span>",
                sonkeigo: "なさいます<br><span class='text-sm text-gray-500'>されます</span>",
                kenjougo: "致します（いたします）"
            },
            {
                meaning: "Ăn",
                teineigo: "食べます<br><span class='text-sm text-gray-400'>tabemasu</span>",
                sonkeigo: "召し上がります（めしあがります）",
                kenjougo: "頂きます（いただきます）"
            },
            {
                meaning: "Uống",
                teineigo: "飲みます<br><span class='text-sm text-gray-400'>nomimasu</span>",
                sonkeigo: "召し上がります（めしあがります）",
                kenjougo: "頂きます（いただきます）"
            },
            {
                meaning: "Nói",
                teineigo: "言います<br><span class='text-sm text-gray-400'>iimasu</span>",
                sonkeigo: "おっしゃいます",
                kenjougo: "申します（もうします）<br><span class='text-sm text-gray-500'>申し上げます（もうしあげます）</span>"
            },
            {
                meaning: "Nhìn / Xem",
                teineigo: "見ます<br><span class='text-sm text-gray-400'>mimasu</span>",
                sonkeigo: "ご覧になります（ごらんになります）",
                kenjougo: "拝見します（はいけんします）"
            },
            {
                meaning: "Biết",
                teineigo: "知っています<br><span class='text-sm text-gray-400'>shitteimasu</span>",
                sonkeigo: "ご存じです（ごぞんじです）",
                kenjougo: "存じております（ぞんじております）<br><span class='text-sm text-gray-500'>存じ上げます（ぞんじあげます）</span>"
            },
            {
                meaning: "Hỏi / Nghe / Thăm",
                teineigo: "聞きます<br><span class='text-sm text-gray-400'>kikimasu</span>",
                sonkeigo: "none",
                kenjougo: "伺います（うかがいます）<br><span class='text-sm text-gray-500'>承ります（うけたまわります）</span>"
            },
            {
                meaning: "Gặp",
                teineigo: "会います<br><span class='text-sm text-gray-400'>aimasu</span>",
                sonkeigo: "none",
                kenjougo: "お目にかかります（おめにかかります）"
            },
            {
                meaning: "Cho (mình cho người khác)",
                teineigo: "あげます<br><span class='text-sm text-gray-400'>agemasu</span>",
                sonkeigo: "none",
                kenjougo: "差し上げます（さしあげます）"
            },
             {
                meaning: "Cho (người khác cho mình)",
                teineigo: "くれます<br><span class='text-sm text-gray-400'>kuremasu</span>",
                sonkeigo: "くださいます",
                kenjougo: "none"
            },
            {
                meaning: "Nhận",
                teineigo: "もらいます<br><span class='text-sm text-gray-400'>moraimasu</span>",
                sonkeigo: "none",
                kenjougo: "頂きます（いただきます）<br><span class='text-sm text-gray-500'>頂戴します（ちょうだいします）</span>"
            },
             {
                meaning: "Mặc",
                teineigo: "着ます<br><span class='text-sm text-gray-400'>kimasu</span>",
                sonkeigo: "お召しになります（おめしになります）",
                kenjougo: "none"
            },
            {
                meaning: "Ngủ",
                teineigo: "寝ます<br><span class='text-sm text-gray-400'>nemasu</span>",
                sonkeigo: "お休みになります（おやすみになります）",
                kenjougo: "none"
            }
        ];

        const tableBody = document.getElementById('verbTableBody');
        const searchInput = document.getElementById('searchInput');
        const emptyState = document.getElementById('emptyState');

        // Toggle state for a cell
        window.toggleCell = function(element) {
            element.classList.toggle('is-hidden');
        }

        // Global toggle
        window.toggleAll = function(show) {
            const cells = document.querySelectorAll('.mask-cell');
            cells.forEach(cell => {
                if (show) {
                    cell.classList.remove('is-hidden');
                } else {
                    cell.classList.add('is-hidden');
                }
            });
        }

        // Function to render the table
        function renderTable(data) {
            tableBody.innerHTML = '';
            
            if (data.length === 0) {
                emptyState.classList.remove('hidden');
                return;
            } else {
                emptyState.classList.add('hidden');
            }

            data.forEach(item => {
                const row = document.createElement('tr');
                row.className = "hover:bg-gray-50 transition-colors duration-150 group";

                const sonkeigoContent = item.sonkeigo === 'none' 
                    ? `<div class="text-gray-400 italic text-lg py-4 px-4 text-center font-light">-</div>` 
                    : `<div class="mask-cell is-hidden p-4 h-full flex items-center" onclick="toggleCell(this)">
                         <div class="content font-medium text-red-700 jp-font text-lg leading-relaxed">${item.sonkeigo}</div>
                       </div>`;
                
                const kenjougoContent = item.kenjougo === 'none' 
                    ? `<div class="text-gray-400 italic text-lg py-4 px-4 text-center font-light">-</div>` 
                    : `<div class="mask-cell is-hidden p-4 h-full flex items-center" onclick="toggleCell(this)">
                         <div class="content font-medium text-blue-700 jp-font text-lg leading-relaxed">${item.kenjougo}</div>
                       </div>`;

                row.innerHTML = `
                    <td class="p-4 border-b border-gray-100 font-medium text-gray-800 jp-font border-r border-gray-100 bg-white">
                        ${item.teineigo}
                    </td>
                    
                    <td class="border-b border-gray-100 bg-red-50/30 p-0 border-r border-gray-100 align-middle">
                        ${sonkeigoContent}
                    </td>
                    
                    <td class="border-b border-gray-100 bg-blue-50/30 p-0 border-r border-gray-100 align-middle">
                        ${kenjougoContent}
                    </td>
                    
                    <td class="p-4 border-b border-gray-100 text-gray-600 font-medium">${item.meaning}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Initial render
        renderTable(keigoData);

        // Search functionality
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            
            const filteredData = keigoData.filter(item => {
                // Remove HTML tags for searching text content
                const cleanTeineigo = item.teineigo.replace(/<[^>]*>?/gm, '');
                const cleanSonkeigo = item.sonkeigo.replace(/<[^>]*>?/gm, '');
                const cleanKenjougo = item.kenjougo.replace(/<[^>]*>?/gm, '');

                return item.meaning.toLowerCase().includes(searchTerm) ||
                       cleanTeineigo.toLowerCase().includes(searchTerm) ||
                       cleanSonkeigo.toLowerCase().includes(searchTerm) ||
                       cleanKenjougo.toLowerCase().includes(searchTerm);
            });

            renderTable(filteredData);
        });

    </script>
</body>
</html>
